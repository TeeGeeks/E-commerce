{"version":3,"sources":["components/Pages/Products.module.css","components/Pages/Products.js","hooks/use-validate.jsx","components/UI/Modal.module.css","components/Carts/CartItem.module.css","components/Carts/Cart.module.css","components/UI/Modal.jsx","components/Carts/CartItem.jsx","components/Carts/Cart.jsx"],"names":["module","exports","Products","props","navigate","useNavigate","cartCtx","useContext","CartContext","AuthContext","hideCartHandler","cartIsShown","useValidate","value","trim","enteredName","nameHasErr","hasError","nameIsValid","valueIsValid","nameHandler","valueHandler","nameBlurHandler","valueBlurHandler","nameReset","reset","enteredStreet","streetHasErr","streetIsValid","streetHandler","streetBlurHandler","streetReset","enteredCity","cityHasErr","cityIsValid","cityHandler","cityBlurHandler","cityReset","length","enteredPostalCode","postalCodeHasErr","postalCodeIsValid","postalCodeHandler","postalCodeBlurHandler","postalCodeReset","formIsValid","nameInputClasses","classes","invalid","control","streetInputClasses","cityInputClasses","postalCodeInputClasses","onClose","className","form","onSubmit","event","preventDefault","orderSent","name","street","city","postalCode","timeStamp","serverTimestamp","addDoc","collection","db","itemsSent","items","orderDetails","toast","success","position","clearItem","htmlFor","type","id","onChange","onBlur","actions","disabled","onClick","onOrder","validateValue","useState","valueEntered","setValueEntered","valueIsTouched","setValueIsTouched","e","target","Backdrop","backdrop","onHideCart","ModalOverlay","modal","content","children","Modal","ReactDOM","createPortal","document","getElementById","CartItem","img","src","images","alt","summary","price","amount","onRemove","onAdd","Cart","hasItems","totalAmount","cartItemRemoveHandler","removeItem","cartItemAddHandler","item","addItem","cartItems","map","bind","total","button","to"],"mappings":"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","file":"static/js/9.e651512e.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"Products_form__3zoe0\",\"control\":\"Products_control__2OzM9\",\"actions\":\"Products_actions__1NDt9\",\"invalid\":\"Products_invalid__1eRxB\",\"error-text\":\"Products_error-text__2Enh6\"};","import classes from \"./Products.module.css\";\r\nimport useValidate from \"../../hooks/use-validate\";\r\nimport { Fragment, useContext } from \"react\";\r\nimport { addDoc, collection, serverTimestamp } from \"firebase/firestore\";\r\nimport { db } from \"../../firebaseConfig/Firebase\";\r\nimport { toast } from \"react-toastify\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport CartContext from \"../../store/cart-context\";\r\nimport { AuthContext } from \"../../store/auth-context\";\r\nimport Cart from \"../Carts/Cart\";\r\n\r\nconst Products = (props) => {\r\n  const navigate = useNavigate();\r\n\r\n  const cartCtx = useContext(CartContext);\r\n  const { hideCartHandler, cartIsShown } = useContext(AuthContext);\r\n\r\n  const {\r\n    value: enteredName,\r\n    hasError: nameHasErr,\r\n    valueIsValid: nameIsValid,\r\n    valueHandler: nameHandler,\r\n    valueBlurHandler: nameBlurHandler,\r\n    reset: nameReset,\r\n  } = useValidate((value) => value.trim() !== \"\");\r\n\r\n  const {\r\n    value: enteredStreet,\r\n    hasError: streetHasErr,\r\n    valueIsValid: streetIsValid,\r\n    valueHandler: streetHandler,\r\n    valueBlurHandler: streetBlurHandler,\r\n    reset: streetReset,\r\n  } = useValidate((value) => value.trim() !== \"\");\r\n\r\n  const {\r\n    value: enteredCity,\r\n    hasError: cityHasErr,\r\n    valueIsValid: cityIsValid,\r\n    valueHandler: cityHandler,\r\n    valueBlurHandler: cityBlurHandler,\r\n    reset: cityReset,\r\n  } = useValidate((value) => value.trim() !== \"\");\r\n\r\n  const {\r\n    value: enteredPostalCode,\r\n    hasError: postalCodeHasErr,\r\n    valueIsValid: postalCodeIsValid,\r\n    valueHandler: postalCodeHandler,\r\n    valueBlurHandler: postalCodeBlurHandler,\r\n    reset: postalCodeReset,\r\n  } = useValidate((value) => value.trim().length === 5);\r\n\r\n  let formIsValid = false;\r\n\r\n  if (nameIsValid && streetIsValid && cityIsValid && postalCodeIsValid) {\r\n    formIsValid = true;\r\n  }\r\n\r\n  const confirmHandler = (event) => {\r\n    event.preventDefault();\r\n\r\n    if (!formIsValid) {\r\n      return;\r\n    }\r\n\r\n    nameReset();\r\n    streetReset();\r\n    postalCodeReset();\r\n    cityReset();\r\n\r\n    const orderSent = {\r\n      name: enteredName,\r\n      street: enteredStreet,\r\n      city: enteredCity,\r\n      postalCode: enteredPostalCode,\r\n      timeStamp: serverTimestamp(),\r\n    };\r\n\r\n    addDoc(collection(db, \"orders\"), {\r\n      itemsSent: cartCtx.items,\r\n      orderDetails: orderSent,\r\n    });\r\n    toast.success(\"Your order has been sent successfully\", {\r\n      position: \"bottom-left\",\r\n    });\r\n    cartCtx.clearItem();\r\n    navigate(\"/\");\r\n  };\r\n\r\n  const nameInputClasses = nameHasErr\r\n    ? `${classes.invalid} ${classes.control}`\r\n    : classes.control;\r\n\r\n  const streetInputClasses = streetHasErr\r\n    ? `${classes.invalid} ${classes.control}`\r\n    : classes.control;\r\n\r\n  const cityInputClasses = cityHasErr\r\n    ? `${classes.invalid} ${classes.control}`\r\n    : classes.control;\r\n\r\n  const postalCodeInputClasses = postalCodeHasErr\r\n    ? `${classes.invalid} ${classes.control}`\r\n    : classes.control;\r\n\r\n  return (\r\n    <Fragment>\r\n      {cartIsShown && <Cart onClose={hideCartHandler} />}\r\n      <form className={classes.form} onSubmit={confirmHandler}>\r\n        <h3>Order Products</h3>\r\n        <div className={nameInputClasses}>\r\n          <label htmlFor=\"name\">Your Name</label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"name\"\r\n            value={enteredName}\r\n            onChange={nameHandler}\r\n            onBlur={nameBlurHandler}\r\n          />\r\n          {nameHasErr && (\r\n            <p className={classes[\"error-text\"]}>Please enter a valid name.</p>\r\n          )}\r\n        </div>\r\n        <div className={streetInputClasses}>\r\n          <label htmlFor=\"street\">Street</label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"street\"\r\n            value={enteredStreet}\r\n            onChange={streetHandler}\r\n            onBlur={streetBlurHandler}\r\n          />\r\n          {streetHasErr && (\r\n            <p className={classes[\"error-text\"]}>Please enter a valid street</p>\r\n          )}\r\n        </div>\r\n        <div className={postalCodeInputClasses}>\r\n          <label htmlFor=\"postal\">Postal Code</label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"postal\"\r\n            value={enteredPostalCode}\r\n            onChange={postalCodeHandler}\r\n            onBlur={postalCodeBlurHandler}\r\n          />\r\n          {postalCodeHasErr && (\r\n            <p className={classes[\"error-text\"]}>\r\n              Please enter a valid postal code (5 characters long)\r\n            </p>\r\n          )}\r\n        </div>\r\n        <div className={cityInputClasses}>\r\n          <label htmlFor=\"city\">City</label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"city\"\r\n            value={enteredCity}\r\n            onChange={cityHandler}\r\n            onBlur={cityBlurHandler}\r\n          />\r\n          {cityHasErr && (\r\n            <p className={classes[\"error-text\"]}>Please enter a valid city</p>\r\n          )}\r\n        </div>\r\n\r\n        <button\r\n          className={classes.actions}\r\n          disabled={!formIsValid}\r\n          onClick={props.onOrder}\r\n        >\r\n          Send Order\r\n        </button>\r\n      </form>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default Products;\r\n","import { useState } from \"react\";\r\n\r\nconst useValidate = (validateValue) => {\r\n  const [valueEntered, setValueEntered] = useState(\"\");\r\n  const [valueIsTouched, setValueIsTouched] = useState(false);\r\n\r\n  const valueIsValid = validateValue(valueEntered);\r\n  const valueHasError = !valueIsValid && valueIsTouched;\r\n\r\n  const valueHandler = (e) => {\r\n    setValueEntered(e.target.value);\r\n  };\r\n\r\n  const valueBlurHandler = (e) => {\r\n    setValueIsTouched(true);\r\n  };\r\n\r\n  const reset = () => {\r\n    setValueEntered(\"\");\r\n    setValueIsTouched(false);\r\n  };\r\n\r\n  return {\r\n    value: valueEntered,\r\n    hasError: valueHasError,\r\n    valueIsValid,\r\n    valueHandler,\r\n    valueBlurHandler,\r\n    reset,\r\n  };\r\n};\r\n\r\nexport default useValidate;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"backdrop\":\"Modal_backdrop__2B1ot\",\"modal\":\"Modal_modal__MgJbw\",\"slide-down\":\"Modal_slide-down__8bgvA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cart-item\":\"CartItem_cart-item__30wJA\",\"img\":\"CartItem_img__2rnf-\",\"summary\":\"CartItem_summary__1ZPGp\",\"price\":\"CartItem_price__2XYw7\",\"amount\":\"CartItem_amount__1Bmvd\",\"actions\":\"CartItem_actions__69nnv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cart-items\":\"Cart_cart-items__1LfbG\",\"total\":\"Cart_total__2t_0E\",\"actions\":\"Cart_actions__2PWhj\",\"button--alt\":\"Cart_button--alt__1JGM_\",\"button\":\"Cart_button__55mkj\",\"button_link\":\"Cart_button_link__3jWOD\"};","import React, { Fragment, useContext } from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { AuthContext } from \"../../store/auth-context\";\r\nimport classes from \"./Modal.module.css\";\r\n\r\nexport const Backdrop = (props) => {\r\n  return <div className={classes.backdrop} onClick={props.onHideCart}></div>;\r\n};\r\n\r\nexport const ModalOverlay = (props) => {\r\n  return (\r\n    <div className={classes.modal}>\r\n      <div className={classes.content}>{props.children}</div>\r\n    </div>\r\n  );\r\n};\r\n\r\nfunction Modal(props) {\r\n  const { hideCartHandler } = useContext(AuthContext);\r\n  return (\r\n    <Fragment>\r\n      {ReactDOM.createPortal(\r\n        <Backdrop onHideCart={hideCartHandler} />,\r\n        document.getElementById(\"backdrop\")\r\n      )}\r\n      {ReactDOM.createPortal(\r\n        <ModalOverlay>{props.children}</ModalOverlay>,\r\n        document.getElementById(\"backdrop\")\r\n      )}\r\n    </Fragment>\r\n  );\r\n}\r\n\r\nexport default Modal;\r\n","import classes from \"./CartItem.module.css\";\r\n\r\nconst CartItem = (props) => {\r\n  return (\r\n    <li className={classes[\"cart-item\"]}>\r\n      <div>\r\n        <img className={classes.img} src={props.images} alt=\"\"></img>\r\n        <h2>{props.name}</h2>\r\n        <div className={classes.summary}>\r\n          <span className={classes.price}>₦{props.price}</span>\r\n          <span className={classes.amount}>x {props.amount}</span>\r\n        </div>\r\n      </div>\r\n      <div className={classes.actions}>\r\n        <button onClick={props.onRemove}>−</button>\r\n        <button onClick={props.onAdd}>+</button>\r\n      </div>\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default CartItem;\r\n","import { useContext } from \"react\";\r\n\r\nimport Modal from \"../UI/Modal\";\r\nimport CartItem from \"./CartItem\";\r\nimport classes from \"./Cart.module.css\";\r\nimport CartContext from \"../../store/cart-context\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst Cart = (props) => {\r\n  const cartCtx = useContext(CartContext);\r\n\r\n  const hasItems = cartCtx.items.length > 0;\r\n\r\n  const totalAmount = `${cartCtx.totalAmount}`;\r\n\r\n  const cartItemRemoveHandler = (id) => {\r\n    cartCtx.removeItem(id);\r\n  };\r\n\r\n  const cartItemAddHandler = (item) => {\r\n    cartCtx.addItem({ ...item, amount: 1 });\r\n  };\r\n\r\n  const cartItems = (\r\n    <ul className={classes[\"cart-items\"]}>\r\n      {cartCtx.items.map((item) => (\r\n        <CartItem\r\n          key={item.id}\r\n          images={item.images}\r\n          name={item.name}\r\n          amount={item.amount}\r\n          price={item.price}\r\n          onRemove={cartItemRemoveHandler.bind(null, item.id)}\r\n          onAdd={cartItemAddHandler.bind(null, item)}\r\n        />\r\n      ))}\r\n    </ul>\r\n  );\r\n\r\n  return (\r\n    <Modal onClose={props.onClose}>\r\n      {cartItems}\r\n      <div className={classes.total}>\r\n        <span>Total Amount</span>\r\n        <span>₦{totalAmount}</span>\r\n      </div>\r\n      <div className={classes.actions}>\r\n        <button className={classes[\"button--alt\"]} onClick={props.onClose}>\r\n          Close\r\n        </button>\r\n        {hasItems && (\r\n          <button className={classes.button}>\r\n            <Link to=\"/checkout\">Order</Link>\r\n          </button>\r\n        )}\r\n      </div>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default Cart;\r\n"],"sourceRoot":""}