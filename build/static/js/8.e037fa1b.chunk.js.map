{"version":3,"sources":["components/UI/Input.jsx","components/Meals/MealItem/MealItemForm.jsx","components/Pages/SingleProduct.module.css","components/Pages/SingleProduct.js","components/UI/Modal.module.css","components/Carts/CartItem.module.css","components/Carts/Cart.module.css","components/UI/Modal.jsx","components/Carts/CartItem.jsx","components/Carts/Cart.jsx","components/UI/Input.module.css","components/Meals/MealItem/MealItemForm.module.css"],"names":["Input","React","forwardRef","props","ref","className","classes","input","htmlFor","id","label","MealItemForm","useState","amountIsValid","setAmountIsValid","amountRef","useRef","form","onSubmit","e","preventDefault","enteredAmount","current","value","enteredAmountNumber","trim","length","onAddToCart","type","min","max","step","defaultValue","button_icon_add","module","exports","SingleProduct","meals","setMeals","isLoading","setIsLoading","params","useParams","cartCtx","useContext","CartContext","AuthContext","hideCartHandler","cartIsShown","useEffect","fetchMeals","a","postsCollectionRef","collection","db","getDocs","posts","product","docs","map","doc","data","find","productId","console","log","catch","error","onClose","product_container","product_image","img","src","imageUrl","alt","product_detail","name_price","name","productPrice","amount","addItem","images","price","product_description","productDesc","Backdrop","backdrop","onClick","onHideCart","ModalOverlay","modal","content","children","Modal","ReactDOM","createPortal","document","getElementById","CartItem","summary","actions","onRemove","onAdd","Cart","hasItems","items","totalAmount","cartItemRemoveHandler","removeItem","cartItemAddHandler","item","cartItems","bind","total","button","to"],"mappings":"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","file":"static/js/8.e037fa1b.chunk.js","sourcesContent":["import React from \"react\";\r\nimport classes from \"./Input.module.css\";\r\n\r\nconst Input = React.forwardRef((props, ref) => {\r\n  return (\r\n    <div className={classes.input}>\r\n      <label htmlFor={props.input.id}>{props.label}</label>\r\n      <input ref={ref} {...props.input} />\r\n    </div>\r\n  );\r\n});\r\n\r\nexport default Input;\r\n","import React, { useRef, useState } from \"react\";\r\nimport Input from \"../../UI/Input\";\r\nimport classes from \"./MealItemForm.module.css\";\r\n\r\nfunction MealItemForm(props) {\r\n  const [amountIsValid, setAmountIsValid] = useState(true);\r\n\r\n  const amountRef = useRef();\r\n  const submitHandler = (e) => {\r\n    e.preventDefault();\r\n    const enteredAmount = amountRef.current.value;\r\n    const enteredAmountNumber = +enteredAmount;\r\n\r\n    if (\r\n      enteredAmount.trim().length === 0 ||\r\n      enteredAmountNumber < 1 ||\r\n      enteredAmountNumber > 5\r\n    ) {\r\n      setAmountIsValid(false);\r\n      return;\r\n    }\r\n    props.onAddToCart(enteredAmountNumber);\r\n  };\r\n\r\n  return (\r\n    <form className={classes.form} onSubmit={submitHandler}>\r\n      <Input\r\n        ref={amountRef}\r\n        label=\"Amount\"\r\n        input={{\r\n          id: \"amount\",\r\n          type: \"number\",\r\n          min: \"1\",\r\n          max: \"5\",\r\n          step: \"1\",\r\n          defaultValue: \"1\",\r\n        }}\r\n      />\r\n      <button className={classes.button_icon_add}>\r\n        <i className=\"fa-solid fa-cart-plus\"></i> Add\r\n      </button>\r\n\r\n      {!amountIsValid && <p>Please enter a valid amount (1-5)</p>}\r\n    </form>\r\n  );\r\n}\r\n\r\nexport default MealItemForm;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"product_container\":\"SingleProduct_product_container__7S4hH\",\"img\":\"SingleProduct_img__3dp_H\",\"name_price\":\"SingleProduct_name_price__u84W3\",\"product_description\":\"SingleProduct_product_description__JLuwg\"};","import React, { useContext, useEffect, useState } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { collection, getDocs } from \"firebase/firestore\";\r\nimport { db } from \"../../firebaseConfig/Firebase\";\r\nimport MealItemForm from \"../Meals/MealItem/MealItemForm\";\r\nimport classes from \"./SingleProduct.module.css\";\r\nimport CartContext from \"../../store/cart-context\";\r\nimport { AuthContext } from \"../../store/auth-context\";\r\nimport Cart from \"../Carts/Cart\";\r\nimport LoadingSpinner from \"../UI/LoadingSpinner\";\r\n\r\nconst SingleProduct = (props) => {\r\n  const [meals, setMeals] = useState([]);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const params = useParams();\r\n  const cartCtx = useContext(CartContext);\r\n  const { hideCartHandler, cartIsShown } = useContext(AuthContext);\r\n\r\n  const addToCartHandler = (amount) => {\r\n    cartCtx.addItem({\r\n      id: meals.id,\r\n      images: meals.imageUrl,\r\n      name: meals.name,\r\n      amount: amount,\r\n      price: meals.productPrice,\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    const fetchMeals = async () => {\r\n      setIsLoading(true);\r\n      const postsCollectionRef = collection(db, \"posts\");\r\n\r\n      const posts = await getDocs(postsCollectionRef);\r\n\r\n      const product = posts.docs.map((doc) => ({\r\n        ...doc.data(),\r\n        id: doc.id,\r\n      }));\r\n\r\n      const data = product.find((product) => product.id === params.productId);\r\n      console.log(data);\r\n\r\n      setMeals(data);\r\n    };\r\n    fetchMeals().catch((error) => {\r\n      console.log(error);\r\n    });\r\n    setIsLoading(false);\r\n  }, [params.productId]);\r\n\r\n  return (\r\n    <div>\r\n      {cartIsShown && <Cart onClose={hideCartHandler} />}\r\n      {isLoading && (\r\n        <div className=\"centered\">\r\n          <LoadingSpinner />\r\n        </div>\r\n      )}\r\n      <div className={classes.product_container}>\r\n        <div className={classes.product_image}>\r\n          <img className={classes.img} src={meals.imageUrl} alt=\"\" />\r\n        </div>\r\n        <div className={classes.product_detail}>\r\n          <div className={classes.name_price}>\r\n            <h3>{meals.name}</h3>\r\n            <p>₦{meals.productPrice}</p>\r\n          </div>\r\n          <MealItemForm onAddToCart={addToCartHandler} />\r\n          <div className={classes.product_description}>\r\n            <h4>Product Details</h4>\r\n            <p>{meals.productDesc}</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SingleProduct;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"backdrop\":\"Modal_backdrop__2B1ot\",\"modal\":\"Modal_modal__MgJbw\",\"slide-down\":\"Modal_slide-down__8bgvA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cart-item\":\"CartItem_cart-item__30wJA\",\"img\":\"CartItem_img__2rnf-\",\"summary\":\"CartItem_summary__1ZPGp\",\"price\":\"CartItem_price__2XYw7\",\"amount\":\"CartItem_amount__1Bmvd\",\"actions\":\"CartItem_actions__69nnv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cart-items\":\"Cart_cart-items__1LfbG\",\"total\":\"Cart_total__2t_0E\",\"actions\":\"Cart_actions__2PWhj\",\"button--alt\":\"Cart_button--alt__1JGM_\",\"button\":\"Cart_button__55mkj\",\"button_link\":\"Cart_button_link__3jWOD\"};","import React, { Fragment, useContext } from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { AuthContext } from \"../../store/auth-context\";\r\nimport classes from \"./Modal.module.css\";\r\n\r\nexport const Backdrop = (props) => {\r\n  return <div className={classes.backdrop} onClick={props.onHideCart}></div>;\r\n};\r\n\r\nexport const ModalOverlay = (props) => {\r\n  return (\r\n    <div className={classes.modal}>\r\n      <div className={classes.content}>{props.children}</div>\r\n    </div>\r\n  );\r\n};\r\n\r\nfunction Modal(props) {\r\n  const { hideCartHandler } = useContext(AuthContext);\r\n  return (\r\n    <Fragment>\r\n      {ReactDOM.createPortal(\r\n        <Backdrop onHideCart={hideCartHandler} />,\r\n        document.getElementById(\"backdrop\")\r\n      )}\r\n      {ReactDOM.createPortal(\r\n        <ModalOverlay>{props.children}</ModalOverlay>,\r\n        document.getElementById(\"backdrop\")\r\n      )}\r\n    </Fragment>\r\n  );\r\n}\r\n\r\nexport default Modal;\r\n","import classes from \"./CartItem.module.css\";\r\n\r\nconst CartItem = (props) => {\r\n  return (\r\n    <li className={classes[\"cart-item\"]}>\r\n      <div>\r\n        <img className={classes.img} src={props.images} alt=\"\"></img>\r\n        <h2>{props.name}</h2>\r\n        <div className={classes.summary}>\r\n          <span className={classes.price}>₦{props.price}</span>\r\n          <span className={classes.amount}>x {props.amount}</span>\r\n        </div>\r\n      </div>\r\n      <div className={classes.actions}>\r\n        <button onClick={props.onRemove}>−</button>\r\n        <button onClick={props.onAdd}>+</button>\r\n      </div>\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default CartItem;\r\n","import { useContext } from \"react\";\r\n\r\nimport Modal from \"../UI/Modal\";\r\nimport CartItem from \"./CartItem\";\r\nimport classes from \"./Cart.module.css\";\r\nimport CartContext from \"../../store/cart-context\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst Cart = (props) => {\r\n  const cartCtx = useContext(CartContext);\r\n\r\n  const hasItems = cartCtx.items.length > 0;\r\n\r\n  const totalAmount = `${cartCtx.totalAmount}`;\r\n\r\n  const cartItemRemoveHandler = (id) => {\r\n    cartCtx.removeItem(id);\r\n  };\r\n\r\n  const cartItemAddHandler = (item) => {\r\n    cartCtx.addItem({ ...item, amount: 1 });\r\n  };\r\n\r\n  const cartItems = (\r\n    <ul className={classes[\"cart-items\"]}>\r\n      {cartCtx.items.map((item) => (\r\n        <CartItem\r\n          key={item.id}\r\n          images={item.images}\r\n          name={item.name}\r\n          amount={item.amount}\r\n          price={item.price}\r\n          onRemove={cartItemRemoveHandler.bind(null, item.id)}\r\n          onAdd={cartItemAddHandler.bind(null, item)}\r\n        />\r\n      ))}\r\n    </ul>\r\n  );\r\n\r\n  return (\r\n    <Modal onClose={props.onClose}>\r\n      {cartItems}\r\n      <div className={classes.total}>\r\n        <span>Total Amount</span>\r\n        <span>₦{totalAmount}</span>\r\n      </div>\r\n      <div className={classes.actions}>\r\n        <button className={classes[\"button--alt\"]} onClick={props.onClose}>\r\n          Close\r\n        </button>\r\n        {hasItems && (\r\n          <button className={classes.button}>\r\n            <Link to=\"/checkout\">Order</Link>\r\n          </button>\r\n        )}\r\n      </div>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default Cart;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"input\":\"Input_input__34jXE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"MealItemForm_form__1HF1c\",\"button_icon_add\":\"MealItemForm_button_icon_add__26VIc\"};"],"sourceRoot":""}